<html>
	<head>
		<title>City Scroller</title>
		<script src="http://cloud.github.com/downloads/processing-js/processing-js/processing-1.4.1.min.js"></script>
		<script type="text/processing" data-processing-target="mycanvas">
        //Your code goes here

        // Declare and contruct two objects (h1, h2) from the class HorizontalLine

				Skyline firstBuilding = new Skyline();

				Skyline firstSkyline = new Skyline();



        //since these are variables we don't want to ever change in the code, we capitalize them


				var WINDOW_WIDTH = screen.width;
        var WINDOW_HEIGHT = 400;
        var LIGHTBLUE = color(150,200,250);
        //This function only runs once at the start of the program
        void setup() {
          size(WINDOW_WIDTH, WINDOW_HEIGHT); //sets the size of the window

          frameRate(30); //how many times the draw function is called per second

        }



        //called repeatedly
        void draw() {

          background(LIGHTBLUE); //needed in the draw function to "clear" the screen between updates

					firstBuilding.moveSkyline();

					firstSkyline.fillSkyline();



        }


        //This is the definition of your object
        //a class consists of:
        //attributes which describes the object
        //a constructor which sets the default values for the attributes
        //and functions which manipulate/give information about the attributes




        class Building
        {

          //attributes
          var buildingColor, buildingWidth, buildingHeight, buildingX, buildingY;

          //constructor
          Building(var x, var bw)

          {

            buildingColor = color(random(150,200));

            buildingWidth = bw;

            buildingHeight = random(100,200);

            buildingX = x;

            buildingY = 400 - buildingHeight;

						xPos = buildingX + buildingWidth;


          }

          void moveBuilding()
          {

            update();
            drawBuilding();
          }


          void update()
          {

            buildingX -= 2;



          }

          void drawBuilding()
          {


						fill(buildingColor);
						rect(buildingX,buildingY,buildingWidth,buildingHeight);


          }


        }

        class Skyline
        {



					//attributes
					ArrayList<Building> buildingList;

					var buildingX;

					//constructor
						Skyline()
						{

							buildingX = 0;

							buildingList = new ArrayList<Buildings>();

							fillSkyline();


						}

						void addBuilding() {

							var buildingWidth = random(50,80);
							Building newBuilding = new Building(buildingX, buildingWidth);
							buildingList.add(newBuilding);
							buildingX += buildingWidth;

					}


					void drawSkyline()
					{


						for (int i = buildingList.size()-1; i >= 0; i--)
						{
							Building randomBuilding = (Building) buildingList.get(i);

              randomBuilding.drawBuilding();



						}


					}


					void moveSkyline()
					{
						update();
						drawSkyline();

					}


					void update()
					{
						for (int i = buildingList.size()-1; i >= 0; i--)
						{
							Building randomBuilding = (Building) buildingList.get(i);

              randomBuilding.moveBuilding();

							buildingX -= 2;


						}


					}


					void fillSkyline()
					{


						while (buildingX<screen.width)
						{
							addBuilding();
						}

					}


        }


        </script>
    </head>

    <body>
		<canvas id="mycanvas"></canvas>
	</body>
</html>
